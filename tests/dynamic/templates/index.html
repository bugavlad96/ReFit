<html>
    <head>
        <title>Count Increment</title>
        <script>
            function updateCount() {
                // Create a new XMLHttpRequest object
                var xhr = new XMLHttpRequest();

                // Configure the request
                xhr.open('GET', '/get_count', true);

                // Set the callback function to handle the response
                xhr.onload = function() {
                    if (xhr.status === 200) {
                        // Parse the JSON response
                        var response = JSON.parse(xhr.responseText);

                        // Update the count in the HTML element
                        document.getElementById('count').textContent = 'Counter: ' + response.count;
                    }
                };

                // Send the request
                xhr.send();
            }

            // Call the updateCount function initially and set it to execute every 3 seconds
            updateCount();
            setInterval(updateCount, 500);  // Update every 3 seconds
        </script>
    </head>
    <body>
        <p id="count">Counter: {{ count }}</p>
    </body>
</html>
